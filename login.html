<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ุฏุฎูู ุงูููุธููู - ุฌุงูุนุฉ ุงูุณูุงู ุงูุฏูููุฉ</title>

    <!-- ุนุดุงู ูุดุชุบู ุงูุชุตููู ูููุณ ูู ุงูููุจุงูู -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- ููู ุงูุชูุณููุงุช ุงูุฑุฆูุณู -->
    <link rel="stylesheet" href="long.css">
</head>
<body>

<div class="hero">
    <!-- ุทุจูุฉ ุงูุชุบููู ุงููุชุญุฑูุฉ -->
    <div class="hero-overlay"></div>

    <!-- ุฃุดูุงู ุฏูููุฑูุฉ ูุชุญุฑูุฉ ูู ุงูุฎูููุฉ -->
    <div class="hero-shape hero-shape-1"></div>
    <div class="hero-shape hero-shape-2"></div>

    <!-- ุงูููุฏุฑ: ุงูุดุนุงุฑ ูุงุณู ุงูุฌุงูุนุฉ -->
    <header class="hero-header">
        <div class="hero-uni">
            <!-- ๐ต ุตูุฑุฉ ุดุนุงุฑ ุงูุฌุงูุนุฉ (aiu-logo.png) -->
            <img src="aiu-logo.png" alt="ุดุนุงุฑ ุฌุงูุนุฉ ุงูุณูุงู ุงูุฏูููุฉ" class="hero-logo">
            <div class="hero-uni-text">
                <div class="uni-name">ุฌุงูุนุฉ ุงูุณูุงู ุงูุฏูููุฉ</div>
                <div class="uni-sub">ููุธููุฉ ุดุคูู ุงูุทูุจุฉ ูุงูุงูุชุญุงูุงุช</div>
            </div>
        </div>
    </header>

    <!-- ุงููุญุชูู ุงูุฑุฆูุณู -->
    <main class="hero-main">

        <!-- ูุต ุชุนุฑููู ุจุณูุท (ูุณุงุฑ ูู ุงูุดุงุดุงุช ุงููุจูุฑุฉุ ููู ูู ุงูููุจุงูู) -->
        <section class="hero-intro">
            <h1>ููุญุฉ ุฏุฎูู ุงูููุธููู</h1>
            <p>
                ุงูุฑุฌุงุก ุงุณุชุฎุฏุงู ุญุณุงุจู ุงูุฑุณูู ููุฏุฎูู ุฅูู ูุธุงู
                <strong>ุงูุชุณุฌููุ ุงูุฌุฏุงููุ ูุงููุชุงุฆุฌ</strong>.
            </p>
            <ul>
                <li>ุตูุงุญูุงุช ุญุณุจ ููุน ุงููุณุชุฎุฏู</li>
                <li>ุชุณุฌูู ููุฑุงุฌุนุฉ ุจูุงูุงุช ุงูุทูุจุฉ</li>
                <li>ุฅุฏุงุฑุฉ ุงูููุงุฏ ูุงููุตูู ุงูุฏุฑุงุณูุฉ</li>
            </ul>
        </section>

        <!-- ูุฑุช ุชุณุฌูู ุงูุฏุฎูู ุงููุฎู -->
        <section class="login-card">
            <h2>ุฏุฎูู ุงูููุธููู</h2>

            <label class="field-label" for="user">ุงุณู ุงููุณุชุฎุฏู</label>
            <div class="field-wrapper">
                <input type="text" id="user" placeholder="ุฃุฏุฎู ุงุณู ุงููุณุชุฎุฏู">
            </div>

            <label class="field-label" for="pass">ูููุฉ ุงููุฑูุฑ</label>
            <div class="field-wrapper">
                <input type="password" id="pass" placeholder="ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ">
            </div>

            <button class="login-btn" onclick="doLogin()">
                ุฏุฎูู ุฅูู ุงููุธุงู
            </button>

            <div id="msg" class="msg"></div>

            <div class="login-footer-note">
                ูุฐุง ุงููุธุงู ูุฎุตุต ููููุธููู ุงููุฎูููู ููุท.
            </div>
        </section>

    </main>

    <!-- ููุชุฑ ุจุณูุท -->
    <footer class="hero-footer">
        <span>ยฉ ุฌุงูุนุฉ ุงูุณูุงู ุงูุฏูููุฉ</span>
        <span class="dot"></span>
        <span>ูุญุฏุฉ ูุธู ุงููุนูููุงุช</span>
         <span class="dot"></span>
        <span>ู.ุฃููุจ ุงูุญูุงุช</span>
    </footer>

</div>

<script>
    // ๐ด ููุณ ุฑุงุจุท ุงูู API ุงููุณุชุฎุฏู ูู ุตูุญุฉ ุงูุงุณุชุนูุงู
    const API_URL = "https://script.google.com/macros/s/AKfycbxX-5-aWuFmnwesgTpco13qabgXlgM4yE5KABoTWd8ytWTOTcDCNc32KFVovmnSltdMSQ/exec";

    async function doLogin() {
        const u = document.getElementById('user').value.trim();
        const p = document.getElementById('pass').value.trim();
        const msg = document.getElementById('msg');

        // ูุฑุฌุน ุงูุฑุณุงูุฉ ูููุถุน ุงูุงูุชุฑุงุถู ูู ูุฑุฉ
        msg.textContent = "";
        msg.classList.remove("msg-ok", "msg-error");

        if (!u || !p) {
            msg.textContent = "ุงูุฑุฌุงุก ุฅุฏุฎุงู ุงุณู ุงููุณุชุฎุฏู ููููุฉ ุงููุฑูุฑ";
            msg.classList.add("msg-error");
            return;
        }

        const url = `${API_URL}?action=login&user=${encodeURIComponent(u)}&pass=${encodeURIComponent(p)}`;

        try {
            const res = await fetch(url);
            const data = await res.json();

            console.log(data); // ูููุฑุงุฌุนุฉ ูู ุงููููุณูู

            if (data.status === "OK") {
                localStorage.setItem("aiu_user", data.username || u);
                localStorage.setItem("aiu_role", data.role || "");

                msg.textContent = "ุชู ุชุณุฌูู ุงูุฏุฎูู ุจูุฌุงุญุ ุฌุงุฑู ุงูุชุญููู...";
                msg.classList.add("msg-ok");

                setTimeout(() => {
                    window.location.href = "dashboard.html";
                }, 800);
            } else {
                msg.textContent = "ุจูุงูุงุช ุงูุฏุฎูู ุบูุฑ ุตุญูุญุฉ";
                msg.classList.add("msg-error");
            }
        } catch (err) {
            console.error(err);
            msg.textContent = "ุฎุทุฃ ูู ุงูุงุชุตุงูุ ุชุฃูุฏ ูู ุงูุฅูุชุฑูุช ุฃู ุฑุงุจุท ุงูู API";
            msg.classList.add("msg-error");
        }
    }
</script>

</body>
</html>
